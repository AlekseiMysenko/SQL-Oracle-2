## Запросы c использованием подзапросов

### Задача
~~~~
Написать запрос, который позволяет получить данные о названиях университетов и городов, 
в которых они расположены, с рейтингом, равным или превышающим рейтинг МГУ
~~~~
### Решение
~~~~ 
SELECT univ_name,
  city
FROM university
WHERE RATING >=
  (SELECT RATING FROM university WHERE univ_name = 'МГУ'
  );
~~~~~  
### Результат

|UNIV_NAME|CITY|
|---------|----|
|ВГУ|Воронеж|
|ВГТУ|Воронеж|
|Гарвард|Нью-Йорк|
|Стэнфорд|Лондон|
|МГУ|Москва|
|МТА|Бостон|
|МГИМО|Москва|
|СПГУ|Санкт-Петербург|
|СФГУ|Сан-Франциско|
|МГТУ|Москва|

## Запросы c использованием операторов GROUP BY и HAVING

### Задача
~~~~
Напишите запрос, который выполняет вывод названий университетов с рейтингом, превышающим 300, 
вместе со значением максимального размера стипендии, получаемой студентами в этих университетах
~~~~

### Решение
~~~~
select univ_name, max(stipend)
from university u1, student s1 
where u1.UNIV_ID=s1.UNIV_ID and rating>300
group by univ_name;
~~~~
### Результат

|UNIV_NAME|MAX(STIPEND)|
|---------|------------|
|СПГУ|24000|
|МГИМО|28500|
|МТА|21000|

### Задача
~~~~
Напишите команду SELECT, использующую связанные подзапросы и выполняющую вывод имен и идентификаторов студентов, 
у которых стипендия совпадает с максимальным значением стипендии для города, в котором живет студент.
~~~~
### Решение
~~~~
select name, student_id
from student
where stipend = 
(select max(s.stipend)
from student s
group by s.city
having s.city = student.city);
~~~~
### Результат

|NAME|STUDENT_ID|
|----|----------|
|Сергей|1|
|Владимир|5|
|Вадим|18|
|Сергей|25|
|Владимир|30|
|Константин|32|
|Денис|36|
|Виталий|46|
|Алексей|56|
